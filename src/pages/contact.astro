---
import BaseLayout from "../layouts/BaseLayout.astro";
import PageHero from "../components/PageHero.astro";
---

<BaseLayout title="ASESORES EN COMERCIO GT S.A.C. | Contacto" active="contact">
  <PageHero
    title="Contacto"
    breadcrumbLabel="Contacto"
    backgroundImage="/assets/images/hero_bg_5.jpg"
  />

    
    <div class="site-section bg-light">
      <div class="container">
        <div class="row">
          <div class="col-md-7 mb-5">
            <form action="/ms-core-email-notification/index.php/api/contact" method="post" class="p-5 bg-white" id="contact-form">
              <div class="row form-group">
                <div class="col-md-6 mb-3 mb-md-0">
                  <label class="text-black" for="fname">Nombre</label>
                  <input type="text" id="fname" name="first_name" class="form-control">
                </div>
                <div class="col-md-6">
                  <label class="text-black" for="lname">Apellido</label>
                  <input type="text" id="lname" name="last_name" class="form-control">
                </div>
              </div>

              <div class="row form-group">
                
                <div class="col-md-12">
                  <label class="text-black" for="email">Correo</label> 
                  <input type="email" id="email" name="email" class="form-control">
                </div>
              </div>

              <div class="row form-group">
                
                <div class="col-md-12">
                  <label class="text-black" for="subject">Asunto</label> 
                  <input type="text" id="subject" name="subject" class="form-control">
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <label class="text-black" for="message">Mensaje</label> 
                  <textarea name="message" id="message" cols="30" rows="7" class="form-control" placeholder="Escribe tus consultas o requerimientos..."></textarea>
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <input type="submit" value="Enviar mensaje" class="btn btn-primary py-2 px-4 text-white">
                </div>
              </div>

              <div class="row form-group mb-0">
                <div class="col-md-12">
                  <div id="contact-status" class="text-left" aria-live="polite"></div>
                </div>
              </div>

  
            </form>
          </div>
          <div class="col-md-5">
            
            <div class="p-4 mb-3 bg-white">
              <p class="mb-0 font-weight-bold">Direcci&oacute;n</p>
              <p class="mb-4">C. Alfredo Maldonado 654, Pueblo Libre 15084</p>

              <p class="mb-0 font-weight-bold">Tel&eacute;fono</p>
              <p class="mb-4"><a href="tel:+51903349102">+051 903349102</a></p>

              <p class="mb-0 font-weight-bold">Correo electr&oacute;nico</p>
              <p class="mb-0"><a href="mailto:ventas@acgt.com.pe">ventas@acgt.com.pe</a></p>

            </div>
            
            <div class="p-4 mb-3 bg-white">
              <h3 class="h5 text-black mb-3">M&aacute;s informaci&oacute;n</h3>
              <p>Asesoramos operaciones de importaci&oacute;n y exportaci&oacute;n con enfoque en costos, tiempos y cumplimiento aduanero.</p>
              <p><a href="/services" class="btn btn-primary px-4 py-2 text-white">Ver servicios</a></p>
            </div>

          </div>
        </div>
      </div>
    </div>
</BaseLayout>

<script is:inline>
  (function () {
    var form = document.getElementById('contact-form');
    var statusEl = document.getElementById('contact-status');
    if (!form || !statusEl) return;

    form.addEventListener('submit', function (event) {
      event.preventDefault();
      statusEl.textContent = 'Enviando...';
      statusEl.className = 'text-muted';

      var submitBtn = form.querySelector('input[type="submit"]');
      if (submitBtn) submitBtn.disabled = true;

      fetch(form.action, {
        method: 'POST',
        body: new FormData(form)
      })
        .then(function (response) {
          return response.json().then(function (data) {
            return { ok: response.ok, data: data };
          });
        })
        .then(function (result) {
          if (result.ok && result.data && result.data.success) {
            statusEl.textContent = 'Mensaje enviado. Te responderemos pronto.';
            statusEl.className = 'text-success';
            form.reset();
            return;
          }

          var message = (result.data && result.data.message) ? result.data.message : 'No se pudo enviar el mensaje.';
          statusEl.textContent = message;
          statusEl.className = 'text-danger';
        })
        .catch(function () {
          statusEl.textContent = 'Ocurrio un error al enviar el formulario.';
          statusEl.className = 'text-danger';
        })
        .finally(function () {
          if (submitBtn) submitBtn.disabled = false;
        });
    });
  })();
</script>
